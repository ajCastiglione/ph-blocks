!function(e,t){"use strict";e.fn.fitVids=function(){return this.each(function(){e(this).find(["iframe","object","embed"].join(",")).each(function(){var t=e(this),i=("object"===this.tagName.toLowerCase()?t.attr("height"):t.height())/t.width();t.wrap('<div class="fluid-width-video-wrapper" />').parent(".fluid-width-video-wrapper").css("padding-top",100*i+"%").end().removeAttr("height").removeAttr("width")})})},e.fn.tabs=function(){return this.each(function(){var t=e(this),i=t.find(".tab-content"),n=t.find(".tab-link");n.on("click",function(t){if("none"!==n.css("display")){var o=this.hash;if(!o)return!1;n.add(i).removeClass("on"),e(this).add(o).addClass("on"),e(".tab-content.on .carousel").each(function(){var t=e(this).outerWidth()/4-parseInt(e(this).find(".carousel-item").css("margin-right"),10);e(this).find(".carousel-item").width(t),e(this).find(".carousel-thumbs .bx-viewport").height(e(this).find(".carousel-item img").outerHeight()),e(this).find(".carousel-large").width(e(this).outerWidth());var i=e(this).find(".carousel-large:visible img").outerHeight();e(this).find(".carousel-container .bx-viewport").height(i)}),t.preventDefault()}})})},e.fn.toggle=function(t){var i=e.extend({isForm:!1,duration:400},t);return this.on("click",function(t){var n=e(this),o=n[0].hash?e(n[0].hash):e(n.data("for"));if(!o)return!1;t.preventDefault(),e(".toggle-target").not(o).slideUp("fast"),e(".toggle").not(n).removeClass("open"),n.toggleClass("open"),o.slideToggle({duration:i.duration,complete:function(){i.isForm&&o.is(":visible")&&o.find("input:first").focus()}})})},e.fn.followTo=function(i){var n=this,o=e(t);o.scroll(function(e){o.scrollTop()>i?n.css({position:"absolute",top:i}):n.css({})})};var i={init:function(t){t.each(function(){var t,n,o=e(this);o.data("thumbs")||(t=o.find(".carousel-thumbs ul"),n=o.find(".carousel-main ul"),o.data("slides",n).data("thumbs",t),i.loadCarouFredsel(function(){i.initCarouFredsel(o)}))})},loadCarouFredsel:function(t){e.fn.carouFredsel?"function"==typeof t&&t.call(this):e.getScript("/js/plugins/jquery.bxslider.min.js",function(){"function"==typeof t&&t.call(this)})},initCarouFredsel:function(e){var t=e.data("thumbs"),n=e.data("slides").bxSlider({speed:800,mode:"fade",pager:!1,nextText:"",prevText:"",infiniteLoop:!1,touchEnabled:!1,hideControlOnEnd:!0,onSlideBefore:function(t,n,s){i.changeDetailThumb(o,s),i.updateIndicator(o,e,s)},onSliderLoad:function(){e.hasClass("hidden")&&e.find(".carousel-container").css({"max-height":"100%"})}}),o=t.bxSlider({minSlides:4,maxSlides:4,slideWidth:247,slideMargin:4,moveSlides:1,pager:!1,controls:!1,speed:800,infiniteLoop:!1,hideControlOnEnd:!0,touchEnabled:!1,nextText:"<span></span>",prevText:"<span></span>",onSlideBefore:function(e,t,i){}});i.linkSliders(n,o,e)},updateIndicator:function(e,t,i){t.find(".carousel-inner .carousel-main .carousel-indicator"),e.find("li img").width(),t.offset().left,e.find('li[slideindex="'+i+'"]').addClass("active")},linkSliders:function(t,i,n){i.on("click","a",function(i){i.preventDefault();var o=e(this).parent().attr("slideindex");if(t.goToSlide(o),n.hasClass("hidden")){var s=n.find(".carousel-wrap").outerHeight(!0);n.find(".carousel-container").css("max-height",s),n.removeClass("hidden")}})},changeDetailThumb:function(e,t){e.find(".active").removeClass("active"),e.find('li[slideindex="'+t+'"]').addClass("active"),e.getSlideCount()-t>=4?e.goToSlide(t):e.goToSlide(e.getSlideCount()-4)}},n=function(){var t=e(".nav-global-toggle");t.on("click",function(i){"none"!==t.css("display")&&(i.preventDefault(),t.toggleClass("on"),e(t[0].hash).slideToggle({duration:250,complete:function(){e(this).toggleClass("on").removeAttr("style")}}))})},o=function(){var t=e(".subnav-toggle");t.on("click",function(i){"none"!==t.css("display")&&(i.preventDefault(),t.toggleClass("on"),t.parent().parent().toggleClass("dropdown"),e(".sub-wrapper").slideToggle())})},s=function(){e('a[href$=".pdf"]').each(function(){e(this).prop("target","_blank")})},a=function(){var i=e(".site-header");e(".nav-sub-wrap-header"),e(".content");if(i.length){e.getScript("/js/plugins/skrollr.min.js",function(){var i=e(t),n=skrollr.init({forceHeight:!1});function o(){i.width()>1024?skrollr.init({forceHeight:!1}):n.destroy()}o(),e(t).resize(o)}),e.getScript("/js/plugins/jquery.hoverIntent.minified.js",function(){i.hoverIntent(showNav,hideNav)});var n=0;e(".menu-link").on("click",function(t){t.preventDefault(),e(i).hasClass("skrollable-after")&&(n=e("body").hasClass("admin-bar")?28:0,e(i).animate({top:n},200),e(i).find("#home-link").css("pointer-events","auto").animate({opacity:1},100),e(i).find(".menu-link").css("pointer-events","none").animate({opacity:0},100))}),e(".site-header").click(function(e){e.stopPropagation()})}},r=function(){var i=e("#golf-calendar"),n=i.offset(),o=e(".section-reservation-courses").outerHeight(!0);e(t).scroll(function(){e(t).width()>1024&&(e("body").hasClass("admin-bar")?e(this).scrollTop()>n.top-156&&e(this).scrollTop()<n.top-156+o&&"static"==i.css("position")?i.css({position:"fixed",top:"42px"}):e(this).scrollTop()<=n.top-156&&"fixed"==i.css("position")?i.css({position:"static"}):e(this).scrollTop()>=n.top-156+o&&"fixed"==i.css("position")?i.css({position:"absolute",top:o}):e(this).scrollTop()>n.top-156&&e(this).scrollTop()<=n.top-156+o&&"absolute"==i.css("position")&&i.css({position:"fixed",top:"42px"}):e(this).scrollTop()>n.top-130&&e(this).scrollTop()<n.top-130+o&&"static"==i.css("position")?i.css({position:"fixed",top:"14px"}):e(this).scrollTop()<=n.top-130&&"fixed"==i.css("position")?i.css({position:"static"}):e(this).scrollTop()>=n.top-130+o&&"fixed"==i.css("position")?i.css({position:"absolute",top:o}):e(this).scrollTop()>n.top-130&&e(this).scrollTop()<=n.top-130+o&&"absolute"==i.css("position")&&i.css({position:"fixed",top:"14px"}))})};e(".tabs").tabs(),e(".toggle").toggle(),e(".video, .featured_video_plus").fitVids(),s(),n(),o(),a();var l=e(".carousel");l.length&&i.init(l);var c=e(".countdown");c.length&&e.getScript("/js/plugins/jquery.countdown.min.js",function(){var e=c.find(".countdown-days > strong"),t=c.find(".countdown-hours > strong"),i=c.find(".countdown-minutes > strong"),n=c.find(".countdown-seconds > strong");c.countdown(c.data("date"),function(o){switch(o.type){case"days":e.html(o.value);break;case"hours":t.html(o.value);break;case"minutes":i.html(o.value);break;case"seconds":n.html(o.value)}})});var d=e(".google-map");d.length&&e.getScript("/js/substance-maps.min.js",function(){d.googlemap({map:{latLng:[35.189268,-79.467721],zoom:5}})});var u=e(".hole-nav select"),p=e(".hole-slider"),h=null,f=null,g=e(".hole-content h2 em em").first().text();e('a[href="#course-walkthrough"]').on("click",function(){u.length&&(e.getScript("/js/plugins/jquery.dropkick-min.js",function(){null===h?h=u.dropkick({change:function(e,t){}}):u.dropkick("refresh")}),e(".hole-nav select").on("change",function(){p.goToSlide(this.value)})),p.length&&e.getScript("/js/plugins/jquery.bxslider.min.js",function(){null===f?f=p.bxSlider({adaptiveHeight:!0,adaptiveHeightSpeed:500,mode:"horizontal",speed:500,pager:!1,nextSelector:"#hole-slider-next",prevSelector:"#hole-slider-prev",onSlideBefore:function(){var t=p.getCurrentSlide();e(".hole-nav select").val(t).dropkick("refresh")},onSlideAfter:function(t,i,n){p.getCurrentSlide();var o=e(".hole-nav select").find("option:selected").text();trackEvent("Course No. "+g,"Click To",o)}}):f.reloadSlider()}),trackEvent("Golf Course Tabs","Click",e(this).text())}),e('a[href="#course-overview"]').on("click",function(){e(".tab-content .carousel");trackEvent("Golf Course Tabs","Click",e(this).text())}),e("#golf-calendar").length&&e(t).resize(function(){r()}).resize();var m=e(".interactive-floorplan"),v=null;m.length&&(e("#page").append('<div class="modal-bg" style="display:none;"></div>'),e.getScript("/js/plugins/jquery.imagemapster.min.js",function(){v=m.hasClass("holly-inn-floorplan")?"/img/figures/holly-inn-floor-plan-hover.png":"/img/figures/carolina-hotel-floor-plan-hover.png",e(".interactive-floorplan img").mapster({mapKey:"space",fillColor:"333333",stroke:!1,render_highlight:{fillOpacity:1},render_select:{fillOpacity:1},singleSelect:!0,altImage:v,areas:[{key:"grand-ballroom"}],onClick:function(i){e.ajax({dataType:"html",url:"/ajax/floorplan-marker/"+i.key,beforeSend:function(){jQuery("html").addClass("wait"),e(".modal-bg").show()},error:function(){},success:function(t){e("#page").append('<div id="map-pop" class="map-popover-wrapper floorplan-popover-wrapper"><div class="map-popover"></div></div>'),e(".floorplan-popover-wrapper .map-popover").html("").html(t),e("#floorplan-close").click(function(){e("area").mapster("deselect"),e(".floorplan-popover-wrapper").animate({opacity:0},200,function(){e(".floorplan-popover-wrapper").remove()}),e(".modal-bg").hide()}),e(".modal-bg").click(function(){e("area").mapster("deselect"),e(".floorplan-popover-wrapper").animate({opacity:0},200,function(){e(".floorplan-popover-wrapper").remove()}),e(this).hide()})},complete:function(){e(".floorplan-popover-wrapper").css({top:(e(t).height()-e(".floorplan-popover-wrapper").outerHeight())/2+e(t).scrollTop()+"px",display:"block",visibility:"visible"}),e(".floorplan-popover-wrapper").animate({opacity:1},200,function(){})}}).always(function(){jQuery("html").removeClass("wait")})},onMouseover:function(e){}})}),e.getScript("/js/plugins/jquery.debouncedresize.js",function(){var t="";on_resize(function(){e(".carolina-hotel-floorplan").width()<1e3&&"small"!==t?(e(".interactive-floorplan img").mapster("resize",748,0,200),t="small"):e(".carolina-hotel-floorplan").width()>=1e3&&"large"!==t&&(e(".interactive-floorplan img").mapster("resize",1e3,0,200),t="large")})})),ProcessNavisNCKeyword(),e('form[name="newsletter_subscribe"]').submit(function(i){i.preventDefault();var n=e(this),o=n.find('input[name="email"]').val(),s=n.find('input[name="zipcode"]').val(),a=n.find('input[name="user_agreement"]:checked'),r="/ajax/subscribe/newsletter/"+o+"/"+s,l=n.find(".form_field_messages");n.data("location");if(!(a.length>0))return l.children("div").html("Please check that you'd like to receive emails."),l.removeClass("s-hidden"),!1;l.children("div").html("Please wait, we are processing your request..."),l.removeClass("s-hidden");e.getJSON(r,function(e){l.removeClass("success error"),e.success?(l.children("div").html("Thank you for subscribing."),l.addClass("success")):(l.children("div").html(e.message),l.addClass("error")),t.location="https://www.pinehurst.com/subscription-preferences/?subscription_email="+encodeURIComponent(o).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)}),l.removeClass("s-hidden")})}),e(".facebook-iframe-placeholder").each(function(){var t=e(this);return setTimeout(function(){var i=e("<iframe />");i.attr("src",t.data("src")).attr("style",t.data("style")).attr("allowTransparency",t.data("allowTransparency")),t.hide().after(i)},500),!1})}(jQuery,this);var $sharrre=$(".socialcount");$sharrre.length&&$.getScript("/js/plugins/jquery.sharrre.min.js",function(){$(".socialcount").sharrre({share:{twitter:!0},enableHover:!1,enableTracking:!1,enableCounter:!1,buttons:{twitter:{via:"PinehurstResort",count:"none"}}})});var $newsSidebar=$(".sidebar-news, .sidebar-events");function getMonthName(e){var t=[];return t[0]="January",t[1]="February",t[2]="March",t[3]="April",t[4]="May",t[5]="June",t[6]="July",t[7]="August",t[8]="September",t[9]="October",t[10]="November",t[11]="December",t[e]}function showNav(){var e=0;$(this).hasClass("skrollable-after")&&(e=$("body").hasClass("admin-bar")?28:0,$(this).animate({top:e},200),$(this).find("#logo > a, #home-link").css("pointer-events","auto").animate({opacity:1},100),$(this).find(".menu-link").css("pointer-events","none").animate({opacity:0},100))}function hideNav(){var e=0;$(this).hasClass("skrollable-after")&&(e=$("body").hasClass("admin-bar")?-86:$("body").hasClass("show-covid-banner")?-178:-114,$(this).animate({top:e},200),$(this).find("#logo > a, #home-link").css("pointer-events","none").animate({opacity:0},100),$(this).find(".menu-link").css("pointer-events","auto").animate({opacity:1},100))}function trackEvent(e,t,i){_gaq.push(["_trackEvent",e,t,i])}$newsSidebar.length&&($.getScript("/js/plugins/jquery.equalheightcolumns.js",function(){$(window).load(function(){$(".section-news .inner > div, .section-events .inner > div").equalHeightColumns({minWidth:767})})}),$(window).trigger("resize"));var SocialFeeds={url_instagram:"/ajax/socialfeeds/instagram/?format=html",url_twitter:"/ajax/socialfeeds/twitter/?format=html",get:function(e,t,i){if(!((t=$(t)).length<1))return t.addClass("loading"),$.getJSON(e,i,function(e){t.html(e.data),t.fadeOut(0,.25,function(){t.fadeIn("slow")})}).always(function(){t.removeClass("loading")})},get_instagram:function(e,t){this.get(this.url_instagram,e,t)},get_twitter:function(e,t){this.get(this.url_twitter,e,t)}};function scrollPage(){var e=jQuery(".visual-headline").height(),t=jQuery(".site-header").height(),i=jQuery("#wpadminbar").height(),n=jQuery(".nav-sub-header").height(),o=70,s=function(){var s;s=jQuery(window).width()>1024?e-(n+o)+i:jQuery(window).width()>728?e+(n+t+50)+i:e+(n+o+50)+i;return s}();console.log("VHheight: "+e,"headerHeight: "+t,"adminbarHeight: "+i,"subheaderHeight: "+n,"VHoffset: "+s),jQuery("html, body").animate({scrollTop:s},800)}jQuery(function(e){SocialFeeds.get_instagram(".social-feeds > .instagram > .feed"),SocialFeeds.get_twitter(".social-feeds > .twitter > .feed")}),jQuery(".cta-scroller ").on("click",function(){scrollPage()});